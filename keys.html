<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lokus Hub - Keys</title>

<style>
/* ===== ORIGINAL CSS â€” UNCHANGED ===== */
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Segoe UI', sans-serif; background:#000; color:#fff; min-height:100vh; overflow-x:hidden; }

/* Stars */
.stars { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:0; }
.star { position:absolute; background:#fff; border-radius:50%; animation:twinkle 3s infinite; }
@keyframes twinkle { 0%,100%{opacity:0.2;} 50%{opacity:1;} }

/* Container */
.container{ max-width:900px; margin:0 auto; padding:140px 40px 60px; position:relative; z-index:1; }
.key-card{ background:rgba(0,0,0,0.8); border:2px solid rgba(255,255,255,0.15); border-radius:28px; padding:60px; }
.key-value{ font-family:monospace; font-size:2em; letter-spacing:4px; }
.copy-btn{ width:100%; background:#fff; color:#000; border:none; padding:22px; border-radius:16px; font-size:1.4em; font-weight:700; cursor:pointer; margin-top:30px; }
</style>
</head>

<body>
<div class="stars" id="stars"></div>

<div class="container">
  <h1>ðŸ”‘ Lokus Hub Key</h1>
  <p>Premium Access</p>

  <div class="key-card">
    <div class="key-value" id="keyValue">â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</div>
    <button class="copy-btn" id="copyBtn" disabled>ðŸ“‹ Copy Key</button>
  </div>
</div>

<script>
/* ===== VARIABLES ===== */
const keyValue = document.getElementById('keyValue');
const copyBtn = document.getElementById('copyBtn');

/* ===== FETCH KEY FROM CLOUDFLARE (NEW) ===== */
async function fetchKeyFromWorker() {
    try {
        const res = await fetch('https://key2resyunjin.stfuhis1.workers.dev');
        const data = await res.json();

        if (!data.key) throw new Error('No key');

        keyValue.textContent = data.key;
        copyBtn.disabled = false;

    } catch (err) {
        keyValue.textContent = 'ERROR';
        alert('Failed to fetch key');
        console.error(err);
    }
}

/* ===== COPY ===== */
copyBtn.onclick = () => {
    if (copyBtn.disabled) return;
    navigator.clipboard.writeText(keyValue.textContent);
    copyBtn.textContent = 'âœ“ Copied!';
    setTimeout(()=>copyBtn.textContent='ðŸ“‹ Copy Key',1500);
};

/* ===== LINKVERTISE CHECK (UNCHANGED LOGIC) ===== */
function checkAccess(){
    if (!document.referrer) return false;
    const allowed=['linkvertise.com','link-center.net','link-target.net','file-link.net','work.ink'];
    try{
        const host=new URL(document.referrer).hostname;
        return allowed.some(d=>host===d||host.endsWith('.'+d));
    }catch(e){return false;}
}

/* ===== INIT ===== */
if (checkAccess()) {
    keyValue.textContent = 'Generating...';
    fetchKeyFromWorker();
} else {
    keyValue.textContent = 'ACCESS DENIED';
    copyBtn.disabled = true;
}

/* ===== STARS ===== */
const stars=document.getElementById('stars');
for(let i=0;i<200;i++){
    const s=document.createElement('div');
    s.className='star';
    const size=Math.random()*3+1;
    s.style.width=s.style.height=size+'px';
    s.style.left=Math.random()*100+'%';
    s.style.top=Math.random()*100+'%';
    stars.appendChild(s);
}
</script>
</body>
</html>
